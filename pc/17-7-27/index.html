<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="jquery.js"></script>
    <style>
        .a {
            display: block;
            width: 200px;
            height: 30px;
            margin-right: 10px;
            border: 1px solid #cccccc;
            resize: none;
            overflow: hidden;
            text-indent: 100px;
        }
        select {
            /*Chrome和Firefox里面的边框是不一样的，所以复写了一下*/
            border: solid 1px #000;
            /*很关键：将默认的select选择框样式清除*/
            appearance:none;
            -moz-appearance:none;
            -webkit-appearance:none;
            /*将背景改为红色*/
            background:#fff;
            /*加padding防止文字覆盖*/
            border-radius:0;
        }
        /*清除ie的默认选择框样式清除，隐藏下拉箭头*/
        select::-ms-expand { display: none; }
    </style>
</head>
<body>
    <div id="aa"></div>
    <div class="button custom-select a">
        <select class="a">
            <option value="选择1" selected="selected">Connecticut</option>
            <option value="选择2">New York</option>
            <option value="选择3">Maryland</option>
            <option value="选择4">Virginia</option>
        </select>
    </div>

    <input type="text" class="a dsdfsdf">
    <script>
        function getStrLenght(message) {
            var strlenght = 0; //初始定义长度为0
            var txtval = $.trim(message);
            for (var i = 0; i < txtval.length; i++) {
                if (isCN(txtval.charAt(i)) == true) {
                    strlenght = strlenght + 2; //中文为2个字符
                } else {
                    strlenght = strlenght + 1; //英文一个字符
                }
            }
            return strlenght;
        }

        function isCN(str) { //判断是不是中文
            var regexCh = /[u00-uff]/;
            return !regexCh .test(str);
        }

        String.prototype.len = function() {
            return this.replace(/[^\x00-\xff]/g, 'xx').length;
        };
        $('.dsdfsdf').on('keyup',function(){
            console.log(getStrLenght($('.dsdfsdf').val())+'--'+$('.dsdfsdf').val().len());
        });


    </script>
</body>
</html>